# ì„ì‹œ ì§„í–‰ë„

## ğŸ“‹ ìš”ì²­ì‚¬í•­ ì²´í¬ë¦¬ìŠ¤íŠ¸

### âœ… ì™„ë£Œëœ ì‘ì—…

#### Phase 1: ê°„ë‹¨í•œ UI ê°œì„ 
- [x] **ë©”ëª¨ ì‘ì„±ì í•„ë“œ ì œê±°**
  - Dashboard.jsxì—ì„œ ì‘ì„±ì ìë™ ì„¤ì • (`user.displayName || user.email`)
  - ìˆ˜ë™ ì…ë ¥ í¼ ì œê±°

- [x] **ì•Œë¦¼ì°½ ë©”ëª¨ ì‘ì„±ì í‘œì‹œ**
  - sticky.htmlì— ì‘ì„±ì ì´ë¦„ í‘œì‹œ ì¶”ê°€
  - CSS ìŠ¤íƒ€ì¼ë§ ì™„ë£Œ

#### Phase 2: ë©”ëª¨ ë‚ ì§œ êµ¬ë¶„ì„ 
- [x] **íŒ€ ë©”ëª¨ ë‚ ì§œë³„ ê·¸ë£¹í™”**
  - ìƒì„±ì¼ ê¸°ì¤€ ì •ë ¬ (ìµœì‹ ìˆœ)
  - ë‚ ì§œ êµ¬ë¶„ì„  ì¶”ê°€: "â”â”â”â”â”â” 2025ë…„ 12ì›” 10ì¼ â”â”â”â”â”â”"
  - `groupMemosByDate()` í•¨ìˆ˜ êµ¬í˜„
  - **ì£¼ì˜**: ëŒ€ì‹œë³´ë“œì—ì„œëŠ” êµ¬ë¶„ì„  ì œê±°ë¨ (MemoPageì—ë§Œ ì ìš©)

#### Phase 3: URL ìë™ ë§í¬ ë³€í™˜
- [x] **ë©”ëª¨ í•˜ì´í¼ë§í¬ ìë™ ë³€í™˜**
  - DOMPurify ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€ (XSS ë°©ì§€)
  - `linkifyContent()` í•¨ìˆ˜ êµ¬í˜„
  - Dashboard.jsx, MemoPage.jsx, sticky.html ì ìš© ì™„ë£Œ

#### Phase 4: ì¼ì • ê¸°ê°„ ì„¤ì •
- [x] **ì¼ì • ë‹¨ì¼ ë‚ ì§œ â†’ ë‚ ì§œ ë²”ìœ„ ë³€ê²½**
  - `start_date`, `end_date` í•„ë“œ êµ¬í˜„
  - ìº˜ë¦°ë”ì—ì„œ ë²”ìœ„ ë‚´ ëª¨ë“  ë‚ ì§œì— ì¸ë””ì¼€ì´í„° í‘œì‹œ
  - ì¢…ë£Œì¼ ì„ íƒ í¼ ì¶”ê°€

#### Phase 5: ì•Œë¦¼ì°½ ë©”ëª¨ ì¶”ê°€ ê¸°ëŠ¥
- [x] **ì•Œë¦¼ì°½ì—ì„œ ë©”ëª¨ ì‘ì„± ê¸°ëŠ¥**
  - "ë©”ëª¨ ì¶”ê°€" ë²„íŠ¼ ì¶”ê°€
  - ëª¨ë‹¬ í¼ êµ¬í˜„ (ì œëª©, ë‚´ìš©, ì¤‘ìš” ì²´í¬ë°•ìŠ¤)
  - ì œëª© ìë™ ìƒì„± (ë‚´ìš© 20ì + "...")
  - **ì°¸ê³ **: ì‹¤ì œ ì €ì¥ ê¸°ëŠ¥ì€ ë°±ì—”ë“œ API ì—°ë™ í›„ ì‘ë™

#### Phase 6: ë©”ëª¨ ìƒì„¸ë³´ê¸° ëª¨ë‹¬
- [x] **ì•Œë¦¼ì°½ ë©”ëª¨ í´ë¦­ â†’ ìƒì„¸ ëª¨ë‹¬**
  - ë©”ëª¨ í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€
  - ìƒì„¸ ë‚´ìš© ëª¨ë‹¬ êµ¬í˜„
  - ì‘ì„±ì, ì‘ì„±ì¼, ì¤‘ìš” í‘œì‹œ í¬í•¨

#### ì¶”ê°€ ê°œì„  ì‚¬í•­
- [x] **íŒ€ ë©”ëª¨ ì „ìš© í˜ì´ì§€ ìƒì„±**
  - MemoPage.jsx ìƒì„±
  - ë‚ ì§œë³„ ê·¸ë£¹í™” ë° êµ¬ë¶„ì„  í‘œì‹œ
  - ë¼ìš°íŒ… ì„¤ì • ì™„ë£Œ (`/memo`)

- [x] **ëŒ€ì‹œë³´ë“œ ë©”ëª¨ ê°„ì†Œí™”**
  - ë‚ ì§œ êµ¬ë¶„ì„  ì œê±°
  - ìµœì‹  5ê°œë§Œ í‘œì‹œ
  - expired ë©”ëª¨ í•„í„°ë§ (ë¯¸êµ¬í˜„ - ë°±ì—”ë“œ ì—°ë™ í•„ìš”)

- [x] **ë©”ëª¨ ì‘ì„±ì ìœ„ì¹˜ ë³€ê²½**
  - íƒ€ì´í‹€ ë¼ì¸ ì˜¤ë¥¸ìª½ ëìœ¼ë¡œ ì´ë™
  - ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ì ìš©

- [x] **ì¼ì • ìƒì„± ëª¨ë‹¬ í¬ê¸° ì¡°ì •**
  - Modal ì»´í¬ë„ŒíŠ¸ì— `size` prop ì¶”ê°€
  - `large` ì‚¬ì´ì¦ˆ ì ìš©ìœ¼ë¡œ ë‚´ë¶€ ìŠ¤í¬ë¡¤ ì œê±°

- [x] **CSS ì¶©ëŒ í•´ê²°**
  - DashboardNotice.css `.memo-item` í˜¸ë²„ íš¨ê³¼ ì œê±°
  - DashboardLayout.css `.dashboard-card` í˜¸ë²„ íš¨ê³¼ ì œê±°
  - MemoPage.css í´ë˜ìŠ¤ëª… ë³€ê²½ (`.memo-card` â†’ `.memopage-card`)
  - Dashboard.jsx `.memo-content` â†’ `.memo-text`ë¡œ ë³€ê²½

- [x] **ë¼ìš°íŒ… ìˆ˜ì •**
  - Sidebar.jsx: `/memos` â†’ `/memo` ê²½ë¡œ ìˆ˜ì •
  - AppRouter.jsx: MemoPage ë¼ìš°íŠ¸ ì¶”ê°€

#### Phase 7: UI ê°œì„  ë° API ì—°ë™ (2025-12-11)

- [x] **íŒ€ ë©”ëª¨ ë ˆì´ì•„ì›ƒ ìµœì í™”**
  - ì¹´ë“œ ê°„ê²© ì¶•ì†Œ: gap `1rem` â†’ `0.5rem`
  - ì¹´ë“œ íŒ¨ë”© ì¶•ì†Œ: `1.5rem` â†’ `0.875rem 1rem`
  - ë‚ ì§œ êµ¬ë¶„ì„  í¬ê¸° ì¶•ì†Œ
  - í°íŠ¸ í¬ê¸° ì „ë°˜ì  ì¶•ì†Œ (ê°€ë…ì„± ìœ ì§€í•˜ë©° ì»´íŒ©íŠ¸í™”)

- [x] **ì œëª© ìë™ ìƒì„± ë¡œì§ ê°œì„ **
  - MemoPage.jsx, Dashboard.jsx, sticky.html ëª¨ë‘ í†µì¼
  - 20ì ì´ìƒì¼ ë•Œë§Œ "..." ì¶”ê°€ (ì´ì „: í•­ìƒ ì¶”ê°€)
  - ë¡œì§: `title = content.length > 20 ? content.substring(0, 20) + '...' : content`

- [x] **ì•Œë¦¼ì°½ ë²„íŠ¼ ìœ„ì¹˜ ìˆ˜ì •**
  - Dashboard.jsx: "ì•Œë¦¼ì°½" ë²„íŠ¼ì„ í—¤ë” ì˜¤ë¥¸ìª½ ëìœ¼ë¡œ ì´ë™
  - ì´ëª¨ì§€ ì œê±°: "ğŸ”” ì•Œë¦¼ì°½" â†’ "ì•Œë¦¼ì°½"
  - `add-btn` í´ë˜ìŠ¤ ìŠ¤íƒ€ì¼ ì¶”ê°€

- [x] **ë©”ëª¨ ìƒì„± ë¡œì§ í†µì¼**
  - Dashboardì™€ MemoPage ëª¨ë‘ ë™ì¼í•œ ë°©ì‹ ì‚¬ìš©
  - ì œëª© ì„ íƒì‚¬í•­, ë‚´ìš© í•„ìˆ˜
  - ì œëª© ì—†ì„ ì‹œ ìë™ ìƒì„± (20ì ê¸°ì¤€)
  - í¼ ë¼ë²¨ ë° placeholder í†µì¼

- [x] **ì¹´ë“œ ê·¸ë¦¼ì íš¨ê³¼ ì¶”ê°€**
  - DashboardLayout.css: `.dashboard-card` ì •ì  ê·¸ë¦¼ì ì¶”ê°€
  - MemoPage.css: `.memo-page-content` ì •ì  ê·¸ë¦¼ì ì¶”ê°€
  - í˜¸ë²„ íš¨ê³¼ ì œê±° (ì‚¬ìš©ì ìš”ì²­)
  - ë“€ì–¼ ë ˆì´ì–´ ê·¸ë¦¼ì: `0 4px 12px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.06)`

- [x] **ì¼ì • í‘œì‹œ ê°œìˆ˜ ì œí•œ**
  - DashboardCalendar.css: ì¼ì • ë¦¬ìŠ¤íŠ¸ ìµœëŒ€ ë†’ì´ ì œí•œ
  - 4ê°œ ì¼ì •ë§Œ í‘œì‹œ, 5ê°œë¶€í„° ìŠ¤í¬ë¡¤
  - ê³„ì‚°: `(44px Ã— 4) + (8px Ã— 3) = 200px`
  - ì»¤ìŠ¤í…€ ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ ì¶”ê°€

- [x] **ì•Œë¦¼ì°½ API ì—°ë™** âœ… (ì™„ë£Œ)
  - sticky.html: `saveNewMemo()` í•¨ìˆ˜ API ì—°ê²°
  - electron/preload.js: `createMemo` IPC API ë…¸ì¶œ
  - electron/main.js: `api-create-memo` í•¸ë“¤ëŸ¬ êµ¬í˜„
  - ë©”ì¸ ìœˆë„ìš° localStorageì—ì„œ í† í° ìë™ ì¶”ì¶œ
  - ì„±ê³µ ì‹œ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ìœ¼ë¡œ ëª©ë¡ ì—…ë°ì´íŠ¸

- [x] **displayName í•„ë“œ í†µì¼** âœ… (ì™„ë£Œ)
  - googleAuth.js: user ê°ì²´ì— `displayName: name` ì¶”ê°€
  - naverAuth.js: user ê°ì²´ì— `displayName: name` ì¶”ê°€
  - authManager.js: localStorage ë™ê¸°í™” (`currentUser` í‚¤)
  - electron/main.js: fallback ë¡œì§ ì¶”ê°€ (legacy storage ì§€ì›)
  - 3ë‹¨ê³„ fallback: `displayName || name || email`

#### Phase 8: ì‹¤ì‹œê°„ ë™ê¸°í™” ë° ì¼ì • ìˆ˜ì • (2025-12-11)

- [x] **ì•Œë¦¼ì°½ â†” ëŒ€ì‹œë³´ë“œ ì‹¤ì‹œê°„ ë™ê¸°í™”** âœ… (ì™„ë£Œ)
  - electron/main.js: ë©”ëª¨ ìƒì„± ì„±ê³µ ì‹œ `memo-created` ì´ë²¤íŠ¸ ì „ì†¡
  - electron/preload.js: `onMemoCreated` ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë…¸ì¶œ
  - Dashboard.jsx: IPC ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡í•˜ì—¬ ìë™ ìƒˆë¡œê³ ì¹¨
  - sticky.html: ë©”ëª¨ ìƒì„± í›„ UI ì¦‰ì‹œ ì—…ë°ì´íŠ¸ (`renderMemos()` í•¨ìˆ˜)
  - ì•Œë¦¼ì°½ì—ì„œ ë©”ëª¨ ì‘ì„± â†’ ëŒ€ì‹œë³´ë“œ ìë™ ë°˜ì˜

- [x] **ì¼ì • ìˆ˜ì • ê¸°ëŠ¥ í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„** âœ… (ì™„ë£Œ)
  - Dashboard.jsx: `handleScheduleEdit`, `handleScheduleUpdate` í•¸ë“¤ëŸ¬ ì¶”ê°€
  - ì¼ì • ìˆ˜ì • ëª¨ë‹¬ (`showScheduleEditModal`) ì¶”ê°€
  - ì¼ì • ì¹´ë“œì— ìˆ˜ì • ë²„íŠ¼ (âœ) ì¶”ê°€
  - DashboardCalendar.css: ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì¶”ê°€
  - í˜¸ë²„ ì‹œ ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ í‘œì‹œ (opacity 0 â†’ 1)
  - scheduleService.js: `updateSchedule` í•¨ìˆ˜ ì´ë¯¸ êµ¬í˜„ë¨ (ë°±ì—”ë“œ ì—°ë™ ì™„ë£Œ)

---

### ğŸš§ ì§„í–‰ ì¤‘ì¸ ì‘ì—…

#### ë°±ì—”ë“œ ì„œë²„ ì„¤ì •
- [x] **Docker Compose í™˜ê²½ êµ¬ì¶•**
  - PostgreSQL 15 ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ì¤‘ (í¬íŠ¸: 5432)
  - Backend API ì„œë²„ ì‹¤í–‰ ì¤‘ (í¬íŠ¸: 3001)
  - Volume ë§ˆìš´íŠ¸ë¡œ ì‹¤ì‹œê°„ ì½”ë“œ ë°˜ì˜ ì„¤ì •
  - ê°œë°œ ëª¨ë“œ í™œì„±í™” (`NODE_ENV: development`)

- [x] **ë°±ì—”ë“œ API í™•ì¸**
  - âœ… Memos API êµ¬í˜„ ì™„ë£Œ (GET, POST, PATCH, DELETE)
  - âœ… Schedules API êµ¬í˜„ ì™„ë£Œ (GET, POST, PATCH, DELETE)
  - âœ… PostgreSQL ì—°ê²° ì„±ê³µ
  - âœ… Firebase Admin ì´ˆê¸°í™” ì™„ë£Œ
  - Health Check: http://localhost:3001/ âœ“

- [x] **í”„ë¡ íŠ¸ì—”ë“œ ì„œë¹„ìŠ¤ ë ˆì´ì–´ ìƒì„±** âœ…
  - âœ… `src/services/memoService.js` ìƒì„± ì™„ë£Œ
  - âœ… `src/services/scheduleService.js` ìƒì„± ì™„ë£Œ
  - âœ… `src/config/api.js` ìƒì„± ì™„ë£Œ (apiRequest í—¬í¼, API_ENDPOINTS)

- [x] **Dashboard/MemoPage API ì—°ë™** âœ… (ì™„ë£Œ)
  - âœ… Dashboard.jsx: ë¡œì»¬ state â†’ API í˜¸ì¶œë¡œ ë³€ê²½, auth ê°ì²´ ì‚¬ìš©
  - âœ… MemoPage.jsx: ë¡œì»¬ state â†’ API í˜¸ì¶œë¡œ ë³€ê²½, auth ê°ì²´ ì‚¬ìš©
  - âœ… ë©”ëª¨ CRUD ì—°ê²° (ìƒì„±, ì¡°íšŒ, ì‚­ì œ) - PostgreSQL ë¡œì»¬ ë°±ì—”ë“œ
  - âœ… ì¼ì • CRUD ì—°ê²° (ìƒì„±, ì¡°íšŒ, ì‚­ì œ) - PostgreSQL ë¡œì»¬ ë°±ì—”ë“œ
  - âœ… **ìƒë‹´ ëª©ë¡ ë¡œë“œ ì„±ê³µ** - GCP Firestore ë°±ì—”ë“œ (í† í° ì˜¤ë¥˜ í•´ê²°)

---

### ğŸ“ ëŒ€ê¸° ì¤‘ì¸ ì‘ì—… (í”„ë¡ íŠ¸ì—”ë“œ ì—°ë™ í›„)

#### API ì—°ë™ ì™„ë£Œ í›„
- [ ] **ë©”ëª¨ ë§Œë£Œì¼ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸**
  - ë§Œë£Œì¼ í•„ë“œ í™œìš©
  - ëŒ€ì‹œë³´ë“œì—ì„œ expired ë©”ëª¨ í•„í„°ë§

- [ ] **ë©”ëª¨ ë§Œë£Œì¼ ê¸°ëŠ¥**
  - ë§Œë£Œì¼ í•„ë“œ ì¶”ê°€
  - ëŒ€ì‹œë³´ë“œì—ì„œ expired ë©”ëª¨ í•„í„°ë§

- [ ] **ë©”ëª¨ ë¬´í•œ ìŠ¤í¬ë¡¤**
  - í˜ì´ì§€ë„¤ì´ì…˜ êµ¬í˜„
  - ê²€ìƒ‰ ê¸°ëŠ¥ ì¶”ê°€

#### IPC í†µì‹  (Electron)
- [x] **ì•Œë¦¼ì°½ ë©”ëª¨ ìƒì„± API ì—°ë™** âœ… (ì™„ë£Œ)
  - `electron/preload.js`: createMemo IPC ë…¸ì¶œ
  - `electron/main.js`: api-create-memo í•¸ë“¤ëŸ¬ êµ¬í˜„
  - `public/sticky.html`: saveNewMemo() í•¨ìˆ˜ API ì—°ë™
  - ë©”ì¸ ìœˆë„ìš° localStorageì—ì„œ ì¸ì¦ ì •ë³´ ìë™ ì¶”ì¶œ
  - Node.js ë‚´ì¥ fetchë¡œ ë°±ì—”ë“œ í˜¸ì¶œ

- [x] **ì•Œë¦¼ì°½ â†” ëŒ€ì‹œë³´ë“œ ì‹¤ì‹œê°„ ë™ê¸°í™”** âœ… (ì™„ë£Œ - Phase 8)
  - IPC ì´ë²¤íŠ¸ ê¸°ë°˜ ì‹¤ì‹œê°„ ë™ê¸°í™” êµ¬í˜„
  - ë©”ëª¨ ì¶”ê°€ í›„ ë©”ì¸ ìœˆë„ìš° ìë™ ìƒˆë¡œê³ ì¹¨

#### ê³ ê¸‰ ê¸°ëŠ¥
- [ ] **Firestore í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬ì íŒ¨ë„**
  - ê´€ë¦¬ì ì „ìš© UI
  - ì‚¬ìš©ì ê¶Œí•œ ê´€ë¦¬

- [ ] **ë¬´í•œ ìë™ ë¡œê·¸ì¸ (Refresh Token)**
  - Refresh Token êµ¬í˜„
  - í† í° ê°±ì‹  ë¡œì§

- [ ] **Firestore â†” PostgreSQL ì‚¬ìš©ì ë™ê¸°í™”**
  - ë™ê¸°í™” ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
  - ì •ê¸° ì‹¤í–‰ ìŠ¤ì¼€ì¤„ëŸ¬

---

## ğŸ—‚ï¸ ìˆ˜ì •ëœ íŒŒì¼ ëª©ë¡

### ìƒì„±ëœ íŒŒì¼
- `src/pages/MemoPage.jsx` - íŒ€ ë©”ëª¨ ì „ìš© í˜ì´ì§€ (API ì—°ë™ ì™„ë£Œ)
- `src/pages/MemoPage.css` - íŒ€ ë©”ëª¨ í˜ì´ì§€ ìŠ¤íƒ€ì¼
- `src/services/memoService.js` - ë©”ëª¨ API ì„œë¹„ìŠ¤ ë ˆì´ì–´
- `src/services/scheduleService.js` - ì¼ì • API ì„œë¹„ìŠ¤ ë ˆì´ì–´
- `src/config/api.js` - API ê³µí†µ ì„¤ì • ë° ì¸ì¦ í—¬í¼

### ìˆ˜ì •ëœ íŒŒì¼
- `src/components/Dashboard.jsx` - ë©”ëª¨/ì¼ì • API ì—°ë™, CRUD ê¸°ëŠ¥ êµ¬í˜„, ì•Œë¦¼ì°½ ë²„íŠ¼ ìœ„ì¹˜ ìˆ˜ì •, ë©”ëª¨ ìƒì„± ë¡œì§ í†µì¼, IPC ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€, ì¼ì • ìˆ˜ì • ê¸°ëŠ¥ ì¶”ê°€
- `src/components/Dashboard.css` - ì¸ë¼ì¸ ì‘ì„±ì ìŠ¤íƒ€ì¼, memo-text ìŠ¤íƒ€ì¼, add-btn ìŠ¤íƒ€ì¼ ì¶”ê°€
- `src/components/Modal.jsx` - size prop ì¶”ê°€
- `src/components/css/Modal.css` - large ì‚¬ì´ì¦ˆ ì¶”ê°€, height: auto ìˆ˜ì •
- `src/components/css/DashboardNotice.css` - memo-item í˜¸ë²„ ì œê±°
- `src/components/css/DashboardLayout.css` - dashboard-card ê·¸ë¦¼ì ì¶”ê°€ (í˜¸ë²„ ì œê±°)
- `src/components/css/DashboardCalendar.css` - ì¼ì • 4ê°œ ì œí•œ, ìŠ¤í¬ë¡¤ë°” ì¶”ê°€, ì¼ì • ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì¶”ê°€
- `src/components/Sidebar.jsx` - íŒ€ ë©”ëª¨ ë§í¬ ê²½ë¡œ ìˆ˜ì •
- `src/AppRouter.jsx` - MemoPage ë¼ìš°íŠ¸ ì¶”ê°€
- `src/pages/MemoPage.jsx` - ì œëª© ìë™ ìƒì„± ë¡œì§ ìˆ˜ì •
- `src/pages/MemoPage.css` - ì»´íŒ©íŠ¸ ë ˆì´ì•„ì›ƒ, ê·¸ë¦¼ì ì¶”ê°€ (í˜¸ë²„ ì œê±°)
- `public/sticky.html` - ë©”ëª¨ ì¶”ê°€ API ì—°ë™, ì œëª© ìë™ ìƒì„± ë¡œì§ ìˆ˜ì •, í¼ ë¼ë²¨ ìˆ˜ì •, renderMemos() í•¨ìˆ˜ ë¶„ë¦¬
- `electron/preload.js` - createMemo IPC API ë…¸ì¶œ, onMemoCreated ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
- `electron/main.js` - api-create-memo í•¸ë“¤ëŸ¬ êµ¬í˜„, localStorage fallback ë¡œì§, API URL ìˆ˜ì •, memo-created ì´ë²¤íŠ¸ ì „ì†¡
- `src/auth/googleAuth.js` - displayName í•„ë“œ ì¶”ê°€
- `src/auth/naverAuth.js` - displayName í•„ë“œ ì¶”ê°€
- `src/auth/authManager.js` - localStorage ë™ê¸°í™” (currentUser í‚¤)
- `src/App.jsx` - âœ… auth ê°ì²´ ì§ì ‘ ì‚¬ìš©ìœ¼ë¡œ ë³µì›
- `src/config/api.js` - âœ… idToken í•„ë“œ ì‚¬ìš©ìœ¼ë¡œ í†µì¼

---

## ğŸ“Œ ì£¼ìš” ê¸°ìˆ  ìŠ¤íƒ

- **Frontend**: React 18, Vite
- **Desktop**: Electron
- **Styling**: CSS Modules
- **Authentication**: Google OAuth, Naver OAuth
- **Backend**: Node.js + Express (Docker Compose)
- **Database**:
  - PostgreSQL 15 (ë©”ëª¨, ì¼ì • - ë¡œì»¬ ì „ìš©)
  - GCP Firestore (ë¬¸ì˜ ë°ì´í„°)
- **Security**: DOMPurify (XSS ë°©ì§€)
- **DevOps**: Docker Compose, Volume Mount

---

## ğŸ”§ í˜„ì¬ ì œí•œì‚¬í•­

1. ~~**ì„ì‹œ ë°ì´í„° ì‚¬ìš©**~~ â†’ âœ… **í•´ê²°ë¨**: PostgreSQL DB ì—°ë™ ì™„ë£Œ (ë©”ëª¨/ì¼ì •)
2. ~~**í”„ë¡ íŠ¸ì—”ë“œ ë¯¸ì—°ë™**~~ â†’ âœ… **í•´ê²°ë¨**: API ì„œë¹„ìŠ¤ ë ˆì´ì–´ êµ¬í˜„ ì™„ë£Œ
3. ~~**í† í° ì¸ì¦ ì˜¤ë¥˜**~~ â†’ âœ… **í•´ê²°ë¨**: `auth` ê°ì²´ ì§ì ‘ ì‚¬ìš©, `idToken` í•„ë“œ í†µì¼
4. **IPC ë¯¸êµ¬í˜„**: ì•Œë¦¼ì°½ê³¼ ë©”ì¸ ìœˆë„ìš° ê°„ ì‹¤ì‹œê°„ ë™ê¸°í™” ì—†ìŒ (ë‹¤ìŒ ë‹¨ê³„)

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

1. âœ… ~~Docker ë°±ì—”ë“œ ì„œë²„ ì‹¤í–‰~~ (ì™„ë£Œ)
2. âœ… ~~í”„ë¡ íŠ¸ì—”ë“œ ì„œë¹„ìŠ¤ ë ˆì´ì–´ ìƒì„±~~ (ì™„ë£Œ)
3. âœ… ~~Dashboard/MemoPageì—ì„œ API í˜¸ì¶œ~~ (ì™„ë£Œ)
4. âœ… ~~í† í° ì¸ì¦ ì˜¤ë¥˜ í•´ê²°~~ (ì™„ë£Œ)
5. âœ… **IPC í†µì‹ ìœ¼ë¡œ ì•Œë¦¼ì°½ â†” ëŒ€ì‹œë³´ë“œ ë™ê¸°í™”** (ì™„ë£Œ - Phase 8)
6. âœ… **ì¼ì • ìˆ˜ì • ê¸°ëŠ¥ ì¶”ê°€** (ì™„ë£Œ - Phase 8)
7. ë©”ëª¨ ê²€ìƒ‰ ë° ë¬´í•œ ìŠ¤í¬ë¡¤ êµ¬í˜„

---

## ğŸ³ Docker í™˜ê²½

### ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆ:
- **aps-postgres**: PostgreSQL 15 (í¬íŠ¸: 5432)
- **aps-admin-backend**: Node.js API ì„œë²„ (í¬íŠ¸: 3001)

### ê´€ë¦¬ ëª…ë ¹ì–´:
```powershell
# ì‹œì‘
cd backend-local
docker-compose up -d

# ì¤‘ì§€
docker-compose down

# ì¬ì‹œì‘ (ì½”ë“œ ìˆ˜ì • í›„)
docker restart aps-admin-backend

# ë¡œê·¸ í™•ì¸
docker logs -f aps-admin-backend

# ì¬ë¹Œë“œ
docker-compose up -d --build
```

---

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-12-11 22:00 KST (Phase 8 ì™„ë£Œ - ì‹¤ì‹œê°„ ë™ê¸°í™” + ì¼ì • ìˆ˜ì •)
**ì‘ì—…ì**: Claude Sonnet 4.5

---

## âœ… Foreign Key ì œì•½ ì˜¤ë¥˜ í•´ê²° ì™„ë£Œ

### ë¬¸ì œ: ë©”ëª¨ ì‘ì„± 500 ì—ëŸ¬
**ì¦ìƒ**: POST /memos ìš”ì²­ ì‹œ 500 Internal Server Error ë°œìƒ

**ì—ëŸ¬ ë¡œê·¸**:
```
error: insert or update on table "memos" violates foreign key constraint "memos_author_fkey"
detail: 'Key (author)=(infra.steve.01@gmail.com) is not present in table "users".'
```

**ì›ì¸ ë¶„ì„**:
- PostgreSQL `memos` í…Œì´ë¸”ì˜ `author` í•„ë“œê°€ `users.email`ì„ ì°¸ì¡°í•˜ëŠ” FK ì œì•½ ìˆìŒ
- OAuth ë¡œê·¸ì¸ì€ ì„±ê³µí•˜ì§€ë§Œ PostgreSQL `users` í…Œì´ë¸”ì— ìë™ ë“±ë¡ë˜ì§€ ì•ŠìŒ
- ë©”ëª¨/ì¼ì • ìƒì„± ì‹œ FK ì œì•½ ìœ„ë°˜ìœ¼ë¡œ ì‹¤íŒ¨

**í•´ê²° ë°©ë²•**:
- `server.js`ì˜ `authenticate` ë¯¸ë“¤ì›¨ì–´ì— ì‚¬ìš©ì ìë™ ë“±ë¡ ë¡œì§ ì¶”ê°€
- `INSERT ... ON CONFLICT DO UPDATE` ì¿¼ë¦¬ë¡œ ì‚¬ìš©ì ì¡´ì¬ ì—¬ë¶€ í™•ì¸ í›„ upsert
- Lines 320-335ì— êµ¬í˜„ë¨

**ìˆ˜ì •ëœ íŒŒì¼**:
- `backend-local/server.js` (Lines 320-335)

**í…ŒìŠ¤íŠ¸ í•„ìš”**:
- ë¡œê·¸ì¸ í›„ ë©”ëª¨ ì‘ì„± ì‹œë„
- ì‚¬ìš©ìê°€ PostgreSQL `users` í…Œì´ë¸”ì— ìë™ ë“±ë¡ë˜ëŠ”ì§€ í™•ì¸

---

## âœ… ëª¨ë‹¬ í¬ê¸° ì˜¤ë¥˜ í•´ê²° ì™„ë£Œ

### ë¬¸ì œ: ë©”ëª¨ ì¶”ê°€ ëª¨ë‹¬ ë‚´ë¶€ ìŠ¤í¬ë¡¤
**ì¦ìƒ**: "íŒ€ ë©”ëª¨"ì—ì„œ "ë©”ëª¨ ì¶”ê°€" ë²„íŠ¼ í´ë¦­ ì‹œ ëª¨ë‹¬ ë‚´ë¶€ì— ìŠ¤í¬ë¡¤ ë°œìƒ

**ì›ì¸ ë¶„ì„**:
- `Modal.css`ì˜ `.dash-modal-content`ê°€ ê³ ì • ë†’ì´ `height: 400px` ì„¤ì •ë¨
- ë©”ëª¨ ì‘ì„± í¼(ì œëª© + ë‚´ìš© textarea 6ì¤„ + ì²´í¬ë°•ìŠ¤ + ë²„íŠ¼)ì´ 400px ì´ˆê³¼
- ë‚´ë¶€ ìŠ¤í¬ë¡¤ì´ í•„ìš”í•˜ê²Œ ë¨

**í•´ê²° ë°©ë²•**:
- `.dash-modal-content`ì˜ `height: 400px` â†’ `height: auto`ë¡œ ë³€ê²½
- `max-height: 90vh`ëŠ” ìœ ì§€í•˜ì—¬ í™”ë©´ í¬ê¸° ì´ˆê³¼ ë°©ì§€
- ëª¨ë‹¬ì´ ë‚´ìš©ì— ë”°ë¼ ìë™ìœ¼ë¡œ í¬ê¸° ì¡°ì •ë¨

**ìˆ˜ì •ëœ íŒŒì¼**:
- `src/components/css/Modal.css` (Line 38)

**ì˜í–¥ ë²”ìœ„**:
- ëª¨ë“  Modal ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© ìœ„ì¹˜
- ê¸°ë³¸ì ìœ¼ë¡œ auto ë†’ì´, í•„ìš”ì‹œ max-heightë¡œ ì œí•œ
- ì‘ì€ ëª¨ë‹¬(ì‚­ì œ í™•ì¸ ë“±)ì€ `.compact` í´ë˜ìŠ¤ë¡œ ë³„ë„ ê´€ë¦¬

---

## âœ… í† í° ì¸ì¦ ì˜¤ë¥˜ í•´ê²° ì™„ë£Œ

### ìˆ˜ì • ë‚´ìš©:
1. **App.jsx** - `auth` ê°ì²´ ì§ì ‘ ì‚¬ìš©ìœ¼ë¡œ ë³µì›
2. **Dashboard.jsx** - `auth` importë¡œ ë³€ê²½
3. **MemoPage.jsx** - `auth` importë¡œ ë³€ê²½
4. **api.js** - `idToken` í•„ë“œ ì‚¬ìš©ìœ¼ë¡œ í†µì¼

### ë³€ê²½ ì‚¬í•­:
```javascript
// ì´ì „ (ì˜¤ë¥˜ ë°œìƒ)
const auth = { currentUser: getCurrentUser() };
idToken = currentUser.credential || currentUser.accessToken;

// ìˆ˜ì • í›„ (ì •ìƒ ì‘ë™)
import { auth } from '../auth/authManager';
idToken = currentUser.idToken;
```

---

## âš ï¸ ì´ì „ ë°œìƒí•œ ì˜¤ë¥˜ (í•´ê²°ë¨)

### ë¬¸ì œ 1: ìƒë‹´ ëª©ë¡ ë¡œë“œ ì‹¤íŒ¨ - "í† í°ì´ ì—†ìŠµë‹ˆë‹¤"
**ì¦ìƒ**: ë¡œê·¸ì¸ í›„ ìƒë‹´ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŒ

**ì›ì¸ ë¶„ì„**:
1. **API ì¸í„°í˜ì´ìŠ¤ ë¶ˆì¼ì¹˜**
   - ê¸°ì¡´ `inquiryService.js`ëŠ” ì›ë˜ `auth` ê°ì²´ë¥¼ ë°›ë„ë¡ ì„¤ê³„ë¨
   - ì›ë˜ `apiRequest` (APSmanager): `auth.currentUser.idToken` ì‚¬ìš©
   - ìƒˆë¡œ ë§Œë“  `apiRequest` (src/config/api.js): `auth.currentUser.credential` / `accessToken` ì‚¬ìš©
   - **í† í° í•„ë“œëª…ì´ ë‹¤ë¦„!**

2. **auth ê°ì²´ êµ¬ì¡°**
   ```javascript
   // authManager.js exports:
   export const auth = {
     currentUser: null,  // ìë™ ë™ê¸°í™”ë¨
     onAuthStateChanged,
     signOut,
   };

   // auth.currentUser êµ¬ì¡°:
   {
     idToken: "...",      // ì›ë˜ ë°©ì‹
     credential: "...",   // Google (ìƒˆ ë°©ì‹ì—ì„œ ì°¾ëŠ” í•„ë“œ)
     accessToken: "...",  // Naver (ìƒˆ ë°©ì‹ì—ì„œ ì°¾ëŠ” í•„ë“œ)
     email: "...",
     provider: "google" | "naver"
   }
   ```

3. **ë³€ê²½ ê³¼ì •ì—ì„œì˜ ì‹¤ìˆ˜**
   - `App.jsx`ë¥¼ `{ currentUser: user }`ë¡œ ë³€ê²½ â†’ ì˜ëª»ë¨
   - ì›ë˜ëŠ” `auth` ê°ì²´ë¥¼ ê·¸ëŒ€ë¡œ ì „ë‹¬í•´ì•¼ í•¨
   - `inquiryService.js`ëŠ” ì›ë˜ ì¸í„°í˜ì´ìŠ¤ ìœ ì§€í•´ì•¼ í•¨

**ì˜í–¥ ë²”ìœ„**:
- âœ… `memoService.js` - ìƒˆë¡œ ìƒì„± (ë¬¸ì œì—†ìŒ, ë¡œì»¬ PostgreSQL ì—°ë™)
- âœ… `scheduleService.js` - ìƒˆë¡œ ìƒì„± (ë¬¸ì œì—†ìŒ, ë¡œì»¬ PostgreSQL ì—°ë™)
- âŒ `inquiryService.js` - ê¸°ì¡´ íŒŒì¼ (GCP Firestore ì—°ë™, í† í° ì˜¤ë¥˜ ë°œìƒ)
- âŒ `App.jsx` - auth ê°ì²´ ì „ë‹¬ ë°©ì‹ ë³€ê²½ìœ¼ë¡œ ì¸í•œ ì˜¤ë¥˜

### ë¬¸ì œ 2: í† í° í•„ë“œëª… ë¶ˆì¼ì¹˜
**ìƒì„¸**:
- ì›ë˜ `apiRequest`ëŠ” `auth.currentUser.idToken` ì°¾ìŒ
- ìƒˆ `apiRequest`ëŠ” `auth.currentUser.credential` (Google) / `accessToken` (Naver) ì°¾ìŒ
- `authManager.js`ì˜ `currentUser` ê°ì²´ì— ì–´ë–¤ í•„ë“œê°€ ì‹¤ì œë¡œ ìˆëŠ”ì§€ í™•ì¸ í•„ìš”

### ë¬¸ì œ 3: í˜¼ì¬ëœ ì¸í„°í˜ì´ìŠ¤
**íŒŒì¼ë³„ í˜„ì¬ ìƒíƒœ**:
- `src/config/api.js` - ìƒˆë¡œ ìƒì„±, ìƒˆ ì¸í„°í˜ì´ìŠ¤ (`credential`/`accessToken`)
- `inquiryService.js` - ê¸°ì¡´ íŒŒì¼, ìƒˆ `api.js` importí•˜ì§€ë§Œ ì›ë˜ í† í° í•„ë“œ ê¸°ëŒ€
- `App.jsx` - `{ currentUser: user }` í˜•ì‹ìœ¼ë¡œ ë³€ê²½ë¨ (ì›ë˜ëŠ” `auth` ê°ì²´)
- `Dashboard.jsx` - `{ currentUser: getCurrentUser() }` í˜•ì‹ ì‚¬ìš© (ìƒˆ ë°©ì‹)
- `MemoPage.jsx` - `{ currentUser: getCurrentUser() }` í˜•ì‹ ì‚¬ìš© (ìƒˆ ë°©ì‹)

**í•´ê²° ë°©í–¥**:
1. **Option A**: ìƒˆ `apiRequest`ë¥¼ ì›ë˜ ë°©ì‹ì— ë§ì¶° ìˆ˜ì • (`idToken` í•„ë“œ ì‚¬ìš©)
2. **Option B**: `authManager.js`ì˜ `currentUser` êµ¬ì¡° í™•ì¸ í›„ í†µì¼
3. **Option C**: Inquiryìš©ê³¼ Memo/Scheduleìš©ìœ¼ë¡œ `apiRequest` ë¶„ë¦¬

---

## ğŸ“Š API ì—°ë™ ìƒì„¸

### êµ¬í˜„ëœ ê¸°ëŠ¥

#### Memos API
- âœ… `GET /memos` - ë©”ëª¨ ëª©ë¡ ì¡°íšŒ
- âœ… `POST /memos` - ë©”ëª¨ ìƒì„±
- âœ… `DELETE /memos/:id` - ë©”ëª¨ ì‚­ì œ (Soft Delete)
- â³ `PATCH /memos/:id` - ë©”ëª¨ ìˆ˜ì • (ë°±ì—”ë“œ ì¤€ë¹„ë¨, í”„ë¡ íŠ¸ ë¯¸êµ¬í˜„)

#### Schedules API
- âœ… `GET /schedules` - ì¼ì • ëª©ë¡ ì¡°íšŒ
- âœ… `POST /schedules` - ì¼ì • ìƒì„±
- âœ… `DELETE /schedules/:id` - ì¼ì • ì‚­ì œ (Soft Delete)
- â³ `PATCH /schedules/:id` - ì¼ì • ìˆ˜ì • (ë°±ì—”ë“œ ì¤€ë¹„ë¨, í”„ë¡ íŠ¸ ë¯¸êµ¬í˜„)

### API ì¸ì¦ íë¦„ (í˜„ì¬ ë¬¸ì œ ìˆìŒ âš ï¸)
1. `getCurrentUser()` ë˜ëŠ” `auth` ê°ì²´ë¡œ í˜„ì¬ ë¡œê·¸ì¸ ì‚¬ìš©ì ê°€ì ¸ì˜¤ê¸°
2. `apiRequest()` í—¬í¼ê°€ ìë™ìœ¼ë¡œ `Authorization: Bearer <token>` í—¤ë” ì¶”ê°€
3. Google/Naver ì œê³µì êµ¬ë¶„í•˜ì—¬ ì ì ˆí•œ í† í° í•„ë“œ ì‚¬ìš©
4. ë°±ì—”ë“œì—ì„œ í† í° ê²€ì¦ í›„ Firestore í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì²´í¬

**ë¬¸ì œì **:
- ì›ë˜ ë°©ì‹: `auth.currentUser.idToken`
- ìƒˆ ë°©ì‹: `auth.currentUser.credential` (Google) / `accessToken` (Naver)
- í† í° í•„ë“œëª… ë¶ˆì¼ì¹˜ë¡œ ì¸í•´ inquiryServiceì—ì„œ ì˜¤ë¥˜ ë°œìƒ

### ë°ì´í„° ë³€í™˜
**ë°±ì—”ë“œ â†’ í”„ë¡ íŠ¸ì—”ë“œ**:
- `created_at` (timestamp) â†’ `createdAt` (Date ê°ì²´)
- `start_date`, `end_date` (date string) â†’ Date ê°ì²´
- `type` ('company'|'personal') â†’ ('íšŒì‚¬'|'ê°œì¸')

**í”„ë¡ íŠ¸ì—”ë“œ â†’ ë°±ì—”ë“œ**:
- `createdAt` (Date) â†’ ìë™ ìƒì„± (ë°±ì—”ë“œì—ì„œ CURRENT_TIMESTAMP)
- `start_date`, `end_date` (Date) â†’ ISO ë‚ ì§œ ë¬¸ìì—´ (YYYY-MM-DD)
- `type` ('íšŒì‚¬'|'ê°œì¸') â†’ ('company'|'personal')
